@using Lab.Management.Entities;
@using LabManagement.System.Common;
@model lmsMedicalBilling
@{
    ViewBag.Title = "Generate Bill";
    Layout = "~/Views/Shared/_Layout.cshtml";

}


<div class="col-sm-8 col-md-8 col-lg-8 roundCornerDiv">
    <div id="canvasElement">
        <div class="row">
            <div class="col-sm-10 col-md-10 col-lg-10 text-center">
                @Html.Partial("_HospitalDetail")
                <p><h4 class="text-info"><i class="glyphicon glyphicon-print"></i>Medical Bill</h4></p>
            </div>
        </div>
        <hr />
        <div class="row marg-left-15">
            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <strong>Name : </strong>

            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <span style="font-weight:normal">@Model.BILLNAME</span>

            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <strong>Contact : </strong>

            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <span style="font-weight:normal">@Model.CONTACT</span>

            </div>


        </div>
        <div class="row marg-left-15">

            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <strong>Bill# : </strong>

            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <span style="font-weight:normal">@string.Format("VPCMB{0} ", @Model.BILLID)</span>

            </div>

            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <strong>Bill Date : </strong>

            </div>
            <div class="col-sm-2 col-md-2 col-lg-2 text-left text-nowrap">
                <span style="font-weight:normal">@Model.BILLDATE.ParseIstDate()</span>

            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-sm-8 col-md-8 col-lg-8">
                <table class="table table-striped table-bordered dataTable no-footer">
                    <thead>
                        <tr>
                            <td class="text-strong">Particulars</td>
                            <td class="text-strong">Quantity</td>
                            @*<td class="text-strong">Exp.Date</td>*@
                            <td class="text-right text-strong">
                                Price
                            </td>

                        </tr>

                    </thead>
                    <tbody>
                        @foreach (var bill in Model.lmsMedicalBillingDetails)
                        {
                            <tr>
                                <td>
                                    @bill.lmsDrug.DRUGNAME
                                </td>
                                <td>
                                    @bill.QUANTITY
                                </td>
                                @*<td>
                                    @bill.lmsDrug.EXPIRYDATE.ParseIstDate()
                                </td>*@
                                <td class="text-right">
                                    @bill.ITEMCOST
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
                <table class="table table-striped table-bordered dataTable no-footer">
                    <tbody>

                        <tr>
                            <td class="text-right">
                                <strong>Total:</strong>  @Model.BILLAMOUNT
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <hr />
            <div class="row">

                <div class="col-sm-8 col-md-8 col-lg-8 text-center" id="appendElements">
                    <a href="@Url.Action("ViewAllMedicalBill", "Invoice")" class="btn btn-warning" id="btnBack">
                        <i class="glyphicon glyphicon-arrow-left">
                            Back
                        </i>
                    </a>
                    <button type="button" class="btn btn-primary" id="btnPrint">
                        <i class="glyphicon glyphicon-print"></i>
                        Print
                    </button>

                </div>
            </div>
            <div class="row">

                <hr />
            </div>

        </div>
    </div>
</div>
@section Scripts {

    <script type="text/javascript">

        $(document).ready(function () {
            $('#btnPrint').on('click', function () {
                var hideShowelements = [];
                hideShowelements.push('btnBack');
                hideShowelements.push('btnPrint');
                PrintCanvasDiv(hideShowelements, 'canvasElement');
            });

        });

    </script>
}
